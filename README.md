# Nexign Bootcamp. Part II

## –í–∏–Ω–∏—á–µ–Ω–∫–æ –î–∞–Ω–∏–∏–ª –ù–∏–∫–æ–ª–∞–µ–≤–∏—á

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Maven. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ cmd/PS/terminal/zsh –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ —Å –∫–æ–¥–æ–º:

```jsx
mvn install
mvn package
```

–¢–∞–∫–∂–µ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ IDE. –ì–∞–π–¥ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Maven: [https://maven.apache.org/install.html](https://maven.apache.org/install.html)

```
P.s. bootcampPartII-1.0-SNAPSHOT.jar –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ target
```

–ü–æ—Å–ª–µ ‚Äú–∫–æ–º–ø–∏–ª—è—Ü–∏–∏‚Äù –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ –∏–∑ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π IDE (–Ω–æ —Å –Ω—é–∞–Ω—Å–æ–º, –æ –Ω—ë–º –ø–æ–∑–∂–µ), —Ç–∞–∫ –∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏:

```jsx
java -jar .\target\bootcampPartII-1.0-SNAPSHOT.jar [phone_number] [month_num]
```

---

–ü—Ä–æ–≥—Ä–∞–º–º–∞, –∫–∞–∫ —Å–∫–∞–∑–∞–Ω–æ –≤ —É—Å–ª–æ–≤–∏–∏, –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω DDL –∫–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –±–∞–∑—ã

```sql
---DDL for PostgreSQL DB from 1st task
create table numbers (
	sim varchar not null,
	constraint numbers_pk primary key (sim)
);

create table cdr_holder (
	id serial4 not null,
	sim varchar null,
	unix_start int4 null,
	unix_end int4 null,
	incoming varchar null,
	constraint cdr_holder_pk primary key (id)
);

insert into numbers values (7968969935), (74571938267), (71364416478),
						   (7747873230), (74982406633), (787845253770),
						   (74374224157), (75326984736), (76168793160),
						   (79298674093);

```

---

## –ü—Ä–µ–∞–º–±—É–ª–∞

–í—Å–µ –∑–≤–æ–Ω–∫–∏, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∞–±–æ–Ω–µ–Ω—Ç–æ–º —Å–æ—Ç–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ CDR —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–∞ –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞—Ö. –ö–æ–≥–¥–∞ –∞–±–æ–Ω–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–æ—É–º–∏–Ω–≥–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∞ –µ–≥–æ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–∞—è —Å–µ—Ç—å –∞–±–æ–Ω–µ–Ω—Ç–∞. –î–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è GSMA –≤–≤–µ–ª–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç BCE. –°–æ–≥–ª–∞—Å–Ω–æ –µ–º—É, –¥–∞–Ω–Ω—ã–µ —Å CDR –¥–æ–ª–∂–Ω—ã –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ –µ–¥–∏–Ω—ã–π –æ—Ç—á–µ—Ç UDR, –∫–æ—Ç–æ—Ä—ã–π –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä—É, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–µ–º—É –∞–±–æ–Ω–µ–Ω—Ç–∞ –≤ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏. –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –æ—Ç—á–µ—Ç–∞, –¥–æ–º–∞—à–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –∞–±–æ–Ω–µ–Ω—Ç—É —Å—á–µ—Ç.
–í —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è, CDR –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–ø–∏—Å–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

- —Ç–∏–ø –≤—ã–∑–æ–≤–∞ (01 - –∏—Å—Ö–æ–¥—è—â–∏–µ, 02 - –≤—Ö–æ–¥—è—â–∏–µ);
- –Ω–æ–º–µ—Ä –∞–±–æ–Ω–µ–Ω—Ç–∞;
- –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∑–≤–æ–Ω–∫–∞ (Unix time);
- –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–≤–æ–Ω–∫–∞;
- —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–∞–Ω–Ω—ã—Ö ‚Äì –∑–∞–ø—è—Ç–∞—è;
- —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∑–∞–ø–∏—Å–µ–π ‚Äì –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏;
- –¥–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ;
- –í —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è CDR –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ã—á–Ω—ã–º txt;

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ CDR:

```sql
02, 7747873230, 1673410398, 1673410643

01, 74982406633, 1674710545, 1674710781
```

UDR –±—É–¥–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∞–±–æ–Ω–µ–Ω—Ç–∞–º –∏ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞. 

–ü—Ä–∏–º–µ—Ä UDR –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –∞–±–æ–Ω–µ–Ω—Ç–∞ `7747873230`

```json
{
	"msisdn":"7747873230",
	"incomingCall": 
	{
		"totalTime":"00:03:06"
	},
	"outcomingCall":
	{
		"totalTime":"00:11:47"
	}
}
```

---

## –ó–∞–¥–∞—á–∞ 1

–ù–∞–ø–∏—à–∏—Ç–µ —Å–µ—Ä–≤–∏—Å, —ç–º—É–ª–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—Ç—É –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞, —Ç.–µ. –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π CDR —Ñ–∞–π–ª—ã.

–£—Å–ª–æ–≤–∏—è:

1.  1 CDR = 1 –º–µ—Å—è—Ü. –¢–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥ –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è - 1 –≥–æ–¥;
2. –î–∞–Ω–Ω—ã–µ –≤ CDR –∏–¥—É—Ç –Ω–µ –ø–æ –ø–æ—Ä—è–¥–∫—É, —Ç.–µ. –∑–∞–ø–∏—Å–∏ –ø–æ –æ–¥–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É
–º–æ–≥—É—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö —Ñ–∞–π–ª–∞;
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º
–æ–±—Ä–∞–∑–æ–º;
4. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–µ –º–µ–Ω–µ–µ 10) —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤
–ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î (h2);
5. –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CDR, –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ —Å–æ—Å–µ–¥–Ω—é—é —Ç–∞–±–ª–∏—Ü—É —ç—Ç–æ–π –ë–î.

---

## –•–æ–¥ —Ä–∞–±–æ—Ç—ã

### –í—Ö–æ–¥ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å–ª–µ–¥—É–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ —Ñ–∞–π–ª–µ Main. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω—É–∂–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```java
public static final String PSQL_HOST = "jdbc:postgresql://localhost:5432/postgres";
public static final String PSQL_USER = "postgres";
public static final String PSQL_PASS = "dvpsql";
```

---

–ü—Ä–æ–≥—Ä–∞–º–º–∞, —É—Å–ª–æ–≤–Ω–æ, –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏, –≥–¥–µ –ø–µ—Ä–≤–∞—è, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –µ—â–µ –Ω–∞ –¥–≤–µ:

1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CDR —Ñ–∞–π–ª–æ–≤:
    1. –≠–º—É–ª—è—Ü–∏—è –≥–æ–¥–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–≤–æ–Ω–∫–∞—Ö –∏ –∑–∞–ø–∏—Å—å –µ—ë –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –∑–∞–ø–∏—Å—å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–µ—Å—è—Ü—É CDR —Ñ–∞–π–ª–∞–º
2. –°–æ–∑–¥–∞–Ω–∏–µ UDR —Ñ–∞–π–ª–æ–≤

---

---

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–≤–æ–Ω–∫–æ–≤

–ü–µ—Ä–≤—ã–º –º–µ—Ç–æ–¥–æ–º, –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É, —è–≤–ª—è–µ—Ç—Å—è

```java
GenerateCallStory abonentHolder = new GenerateCallStory(PSQL_HOST,PSQL_USER,PSQL_PASS);
abonentHolder.switchEmulator();
```

–í –Ω–æ–≤–æ–π, —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–π, –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–∏—à—å –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–∑–≤–ª–µ—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º. –ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–æ–≤ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ü–∏–∫–ª for –Ω–∞ 12 –∏—Ç–µ—Ä–∞—Ü–∏–π - –ø–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –º–µ—Å—è—Ü. –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –µ—â—ë –æ–¥–∏–Ω —Ü–∏–∫–ª –¥–ª—è –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ê –ø–æ—Ç–æ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –µ—â—ë –æ–¥–∏–Ω —Ü–∏–∫–ª —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –æ—Ç 1 –¥–æ 10

```java
for (int i = 1; i <= 12; i++) {
                for (String elem : abonents) {
                    for (int t = 0; t < ThreadLocalRandom.current().nextInt(1, 11); t++) 
```

–≠—Ç–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –º—ã –¥–æ–±—å–µ–º—Å—è —Ç–æ–≥–æ, —á—Ç–æ –∫–∞–∂–¥—ã–π –∞–±–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –ø–æ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –≥–æ–¥–∞.

–î–∞–ª—å—à–µ –ø–æ —Ö–æ–¥—É –∫–∞–∂–¥–æ–º—É –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±—É–¥—É—Ç ‚Äú–¥–æ–ø–∏—Å–∞–Ω—ã‚Äù –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –∏—Ö –≤ CDR —Ñ–∞–π–ª—ã: —Ç–∏–ø –∑–≤–æ–Ω–∫–∞ (–≤—Ö–æ–¥—è—â–∏–π –∏–ª–∏ –∏—Å—Ö–æ–¥—è—â–∏–π), unix time –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–≤–æ–Ω–∫–∞ - –≤—Å–µ–≥–æ 3 –ø–æ–ª—è.

 –°–æ–≥–ª–∞—Å–Ω–æ —É—Å–ª–æ–≤–∏—é, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –∑–∞–Ω–µ—Å—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è, –∫–∞–∫ —Ä–∞–∑, —ç–º—É–ª—è—Ü–∏–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–≤–æ–Ω–∫–∞—Ö

```java
String insertText = "INSERT INTO cdr_holder (sim, unix_start, unix_end, incoming) VALUES (?, ?, ?, ?)";
        try (PreparedStatement st = conn.prepareStatement(insertText)) {
            for (String row : input) {
                String[] arrFoo = row.split(", ");
                st.setString(1, arrFoo[1]);
                st.setInt(2, Integer.parseInt(arrFoo[2]));
                st.setInt(3, Integer.parseInt(arrFoo[3]));
                st.setString(4, arrFoo[0]);

                st.addBatch();
            }
            st.executeBatch();
        }
```

–î–∞–Ω–Ω—ã–π –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É cdr_holder "–ø–∞–∫–µ—Ç—ã" —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–≤–æ–Ω–∫–æ–≤. –û–ø–µ—Ä–∞—Ü–∏—è INSERT –∫—Ä–∞–π–Ω–µ –∑–∞—Ç—Ä–∞—Ç–Ω–∞—è, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DML ‚Äú–ø–æ—Å—Ç–æ–≤‚Äù –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è batch‚Äô–∏, –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–Ω–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã —Å–æ–∫—Ä–∞—Ç–∏–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –¥–µ—Å—è—Ç–∫–∏ —Ä–∞–∑

–û–ø–∏—Å–∞–Ω–Ω—ã–µ –±–∞—Ç—á–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —É—Å–ª–æ–≤–∏–∏. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è input - —ç—Ç–æ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫, –∏ –∫–æ–≥–¥–∞ –µ–≥–æ —Ä–∞–∑–º–µ—Ä –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 90 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–¥ –°4. –¢–∞–∫–æ–µ —É—Å–ª–æ–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Ç–∞–∫ –∫–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –æ–±—ä–µ–º–æ–º –±–∞—Ç—á–∞ —è–≤–ª—è–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω –≤ 50-100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –¢–∞–∫–∂–µ —ç—Ç–æ—Ç –∫–æ–¥ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ü–∏–∫–ª–æ–≤, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ –°3, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–≤–æ–Ω–∫–æ–≤ –±—É–¥–µ—Ç –æ–∫–æ–Ω—á–µ–Ω

–ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞ –º–µ—Ç–æ–¥–∞ `**switchEmulator()`** –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –æ–Ω –Ω–∏–∫—É–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—Å—Ç –Ω–∏–∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –¢–∞–∫ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏ - CDR –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—Ä–∞—Ç—å ‚Äú–Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—É—é‚Äù –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –∏–∑ –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∏–≥–¥–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –ø–æ–ª—É—á–∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª–Ω—É—é –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è CDR —Ñ–∞–π–ª–æ–≤. –í —Ñ–∞–π–ª–µ psql_sql.sql –∑–∞–ø–∏—Å–∞–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã, –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

---

### –°–æ–∑–¥–∞–Ω–∏–µ CDR

–°–ª–µ–¥—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –≤ ‚Äú–ú—ç–π–Ω–µ‚Äù –æ–∫–∞–∂–µ—Ç—Å—è 

```java
CDRGenerator cdrGen = new CDRGenerator(PSQL_HOST, PSQL_USER, PSQL_PASS);
cdrGen.cdrCreator();
```

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —á–∏—Ç–∞–µ—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—é –∑–≤–æ–Ω–∫–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É –º–µ—Å—è—Ü—É –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π CDR —Ñ–∞–π–ª 

```java
for (int i = 1; i <= 12; i++) {
                String queryText = "SELECT * FROM cdr_holder WHERE EXTRACT(MONTH FROM 
                TO_TIMESTAMP(unix_start)) = " + i;
```

–ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤/–∏–∑ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –±—É—Ñ–µ—Ä–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –ø–æ–ª—É—á–∞–µ–º 12 CDR —Ñ–∞–π–ª–æ–≤ —Å –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏—è–º–∏

---

## –ó–∞–¥–∞—á–∞ 2

–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç CDR —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UDR. –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–∂–¥–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –≤ –æ—Ç—á–µ—Ç.
–£—Å–ª–æ–≤–∏—è:

1. –î–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ CDR —Ñ–∞–π–ª–∞. –ë–î —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚Äì —Ç–µ—Å—Ç–æ–≤–∞—è, –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–π, –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è –Ω–µ—Ç.
2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ—Ç—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ /reports. –®–∞–±–ª–æ–Ω –∏–º–µ–Ω–∏: –Ω–æ–º–µ—Ä_–º–µ—Å—è—Ü.json (79876543221_1.json);
3. –ö–ª–∞—Å—Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–µ—Ç–æ–¥—ã:
    1. generateReport() ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –∞–±–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –∏—Ç–æ–≥–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∑–≤–æ–Ω–∫–æ–≤ –ø–æ –≤—Å–µ–º—É —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–æ–º—É –ø–µ—Ä–∏–æ–¥—É –∫–∞–∂–¥–æ–≥–æ –∞–±–æ–Ω–µ–Ω—Ç–∞;
    2. generateReport(msisdn) ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É –ø–æ –æ–¥–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –∏ –µ–≥–æ –∏—Ç–æ–≥–æ–≤–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –∑–≤–æ–Ω–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º –º–µ—Å—è—Ü–µ;
    3. generateReport(msisdn, month) ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É –ø–æ –æ–¥–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –∏ –µ–≥–æ –∏—Ç–æ–≥–æ–≤–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –∑–≤–æ–Ω–∫–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –º–µ—Å—è—Ü–µ.

---

## –•–æ–¥ —Ä–∞–±–æ—Ç—ã

### –°–æ–∑–¥–∞–Ω–∏–µ UDR —Ñ–∞–π–ª–æ–≤

–ó–∞ —Å–æ–∑–¥–∞–Ω–∏–µ UDR —Ñ–∞–π–ª–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –º–µ—Ç–æ–¥ **`generateReport()`** –∫–ª–∞—Å—Å–∞ **`UDRReportWrite.`** –ù–æ –µ—Å—Ç—å –æ–¥–∏–Ω –Ω—é–∞–Ω—Å - —É —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ 3 –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

```java
generateReport()
generateReport(msisdn)
generateReport(msisdn, month)
```

–ù—é–∞–Ω—Å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ msisdn –∏ month –±–µ—Ä—É—Ç—Å—è –∏–∑ –º–∞—Å—Å–∏–≤–∞ —Å—Ç—Ä–æ–∫ String[] args. –û–¥–Ω–∞–∫–æ —Å —Ä—É–∫–∏ –∑–∞–Ω–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤ –º—ã –Ω–µ –º–æ–∂–µ–º, –≤ –∫–æ–¥–µ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –≤–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ IDE –∫–Ω–æ–ø–∫–æ–π ‚Äú–ü—É—Å–∫‚Äù –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–π –º–µ—Ç–æ–¥ generateReport(), —Ç–∞–∫ –∫–∞–∫ –º–∞—Å—Å–∏–≤ args - –ø—É—Å—Ç–æ–π.

–ö–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –≤ –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã:

```java
java -jar .\target\bootcampPartII-1.0-SNAPSHOT.jar [phone_number] [month_num]
```

–ò–º–µ–Ω–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ args. –ü–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–π–¥—ë—Ç –¥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Å—Å–∏–≤–∞ args

```java
if (args.length == 0) {
    try {
        udrGen.generateReport();
        meth = "Simple generateReport";
    } catch (IOException e) {
        System.out.println(e);
    }
} else if (args.length == 1 & args[0].matches("^7.{7,}$")) {
    try {
        udrGen.generateReport(args[0]);
        meth = "generateReport with number";
    } catch (IOException e) {
        System.out.println(e);
    }
} else if (args.length >= 2 & args[0].matches("^7.{7,}$") &
        Integer.parseInt(args[1]) >= 1 & Integer.parseInt(args[1]) <= 12) {
    try {
        udrGen.generateReport(args[0], Integer.parseInt(args[1]));
        meth = "generateReport with number and month";
    } catch (IOException e) {
        System.out.println(e);
    }
}
```

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –°9, –µ—Å–ª–∏ args –ø—É—Å—Ç–æ–π, –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø–µ—Ä–≤–∞—è ‚Äú–Ω—É–ª—ë–≤–∞—è‚Äù –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ generateReport(), –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ args. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ –≤—Å–µ–º CDR –∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤—Å–µ–º –∞–±–æ–Ω–µ–Ω—Ç–∞–º

–ï—Å–ª–∏ args –∏–º–µ–µ—Ç –¥–ª–∏–Ω—É 1 –∏ –æ–¥–∏–Ω –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å regexp –º–∞—Å–∫–æ–π **`"^7.{7,}$",`** —Ç–æ –µ—Å—Ç—å –ø–æ—Ö–æ–¥–∏—Ç –Ω–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Å –∫–æ–¥–æ–º –†–§), –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –≤—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ generateReport(msisdn), –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏—à—å –∞–±–æ–Ω–µ–Ω—Ç–∞ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ú–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ –≤—Å–µ–º CDR —Ñ–∞–π–ª–∞–º, –Ω–æ –±—É–¥–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ª–∏—à—å –ø–æ –æ–¥–Ω–æ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É.

–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –∏–ª–∏ –±–æ–ª–µ–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –º–∞—Å–∫–æ–π **`"^7.{7,}$"` ,** –∏ –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 1–≥–æ –¥–æ 12—Ç–∏, —Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ç—Ä–µ—Ç—å—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ generateReport(msisdn, month). –ê–ª–≥–æ—Ä–∏—Ç–º —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –∏ —É –≤—Ç–æ—Ä–æ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏, —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É CDR/–º–µ—Å—è—Ü—É

---

–ß—Ç–µ–Ω–∏–µ CDR, –∫–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ –±—É—Ñ–µ—Ä, –ø–æ—Å–ª–µ —á–µ–≥–æ, –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –º–µ—Ç–æ–¥—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON –∏ –∑–∞–ø–∏—Å–∏ –µ–≥–æ –≤ UDR —Ñ–∞–π–ª

```java
try (BufferedReader bufferedReader = new BufferedReader(new FileReader(fileName))) {
  String line;
  while ((line = bufferedReader.readLine()) != null) {
      if (line.isEmpty()) {
          continue;
      }
      String[] arrS = line.split(SPLITTER);
      if (arrS[1].equals(msisdn)) {
          if (arrS[0].equals(IN_TYPE_SIGN)) {
              incomingTotal = incomingTotal + (Integer.parseInt(arrS[3]) - Integer.parseInt(arrS[2]));
          } else {
              outcomingTotal = outcomingTotal + (Integer.parseInt(arrS[3]) - Integer.parseInt(arrS[2]));
          }
      }
  }
}
buildJSON(msisdn, month, incomingTotal, outcomingTotal, new Gson());
```

–†–∞—Å–ø–∞—Ä—à–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ CDR –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ **`buildJSON` ,** –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º–æ –∑–∞ —Å–µ–±—è. –í–º–µ—Å—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç Gson, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –º–∞—Ä—à–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫–∏ –≤ JSON. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è ‚Äú–µ–¥–∏–Ω–æ–∂–¥—ã‚Äù —Å —Ü–µ–ª—å—é —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, —Ç–∞–∫ –∫–∞–∫ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ - –¥–µ–ª–æ –∑–∞—Ç—Ä–∞—Ç–Ω–æ–µ. –¢–∞–∫–∞—è –∂–µ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–∞–∫ –∏ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π DML –ø–æ—Å—Ç–æ–≤.

```java
JsonObject jsonObject = new JsonObject();
jsonObject.addProperty(MSISDN, msisdn);

JsonObject incomingCall = new JsonObject();
incomingCall.addProperty(TOTAL_TIME, parseIntToTime(inTotal));
jsonObject.add(INCOMING_CALL, incomingCall);

JsonObject outcomingCall = new JsonObject();
outcomingCall.addProperty(TOTAL_TIME, parseIntToTime(outTotal));
jsonObject.add(OUTCOMING_CALL, outcomingCall);

String json = gson.toJson(jsonObject);
```

–í –°10 –ø–æ–∫–∞–∑–∞–Ω–æ —Ä–µ—à–µ–Ω–∏–µ, –æ–±—â–µ–µ –¥–ª—è generateReport(msisdn) –∏ generateReport(msisdn, month), —Ç–∞–∫ –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ –æ–¥–Ω–æ–º —Ü–∏–∫–ª–µ for - –ø–µ—Ä–≤—É—é –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, –µ—Å–ª–∏ 12 —Ä–∞–∑ –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç—Ä–µ—Ç—å—é.

–î–ª—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ generateReport() –≤—Å—ë —Å–ª–æ–∂–Ω–µ–µ, —Ç–∞–º –Ω–µ –æ–¥–∏–Ω –∞–±–æ–Ω–µ–Ω—Ç, –∞ —Å–∏–ª—å–Ω–æ –±–æ–ª—å—à–µ, –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–µ—Å—è—Ç—å:

```java
for (int i = 1; i <= 12; i++) {
    fileName = getCDRFileName(i);
    try (BufferedReader bufferedReader = new BufferedReader(new FileReader(fileName))) {
        String line;
        while ((line = bufferedReader.readLine()) != null) {
            if (line.isEmpty()) {
                continue;
            }
            String[] arrS = line.split(SPLITTER);

            if (!msisdnData.isEmpty() && msisdnData.get(arrS[1]) != null) {
                msisdnData.get(arrS[1]).extendTotalTime(arrS);
                continue;
            }
            msisdnData.put(arrS[1], new MsisdnStandaloneData(arrS[1]));
            msisdnData.get(arrS[1]).extendTotalTime(arrS);
        }
    }
```

–ü–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å, –¥–ª—è —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –º–∞–ª–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤—É—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö **`incomingTotal`** –∏ **`outcomingTotal` ,** –∫–∞–∫ –≤ –°10. –ó–¥–µ—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∞–±–æ–Ω–µ–Ω—Ç–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–∞ `**MsisdnStandaloneData`** 

```java
private final String msisdn;
private int incomingTotal;
private int outcomingTotal;
```

–ê —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∞–ø–µ

```java
Map<String, MsisdnStandaloneData> msisdnData = new HashMap<>();
```

–ü–æ—Å–ª–µ —á–µ–≥–æ —ç—Ç–∞ –º–∞–ø–∞ –ø–∞—Ä—Å–∏—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ buildJSON (C12)

---
---

**P.s.** –ü—Ä–æ –≤—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —è –ø—Ä–æ—á–∏—Ç–∞–ª –ª–∏—à—å –Ω–∞ —Å—Ç–∞–¥–∏–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏—è md –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –Ω–µ —É—Å–ø–µ–ª —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, –∫–∞—é—Å—å –∏ –ø—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è

```
1. generateReport() ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –∞–±–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –∏—Ç–æ–≥–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∑–≤–æ–Ω–∫–æ–≤ –ø–æ –≤—Å–µ–º—É —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–æ–º—É –ø–µ—Ä–∏–æ–¥—É –∫–∞–∂–¥–æ–≥–æ –∞–±–æ–Ω–µ–Ω—Ç–∞;
2. generateReport(msisdn) ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É –ø–æ –æ–¥–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –∏ –µ–≥–æ –∏—Ç–æ–≥–æ–≤–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –∑–≤–æ–Ω–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º –º–µ—Å—è—Ü–µ;
3. generateReport(msisdn, month) ‚Äì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–∞–±–ª–∏—Ü—É –ø–æ –æ–¥–Ω–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –∏ –µ–≥–æ –∏—Ç–æ–≥–æ–≤–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –∑–≤–æ–Ω–∫–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –º–µ—Å—è—Ü–µ.
```

**P.p.s** –Ø –∑–∞–Ω—è–ª –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –∏ –≤—ã–∏–≥—Ä–∞–ª –º—ã—à–∫—É –≤ –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ Nexign –Ω–∞ –ö–∞—Ä—å–µ—Ä–Ω–æ–º –§–æ—Ä—É–º–µ –≤ –ü–æ–ª–∏—Ç–µ—Ö–µ –ü–µ—Ç—Ä–∞. –ù–∞–¥–µ—é—Å—å —ç—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∫—Ä–æ–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—É–Ω–∫—Ç üëâüèºüëàüèº

---
---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CDR (`CDRGeneratorTest`)

```java
for (int i = 1; i <= 12; i++) {
    String queryText = "SELECT * FROM cdr_holder WHERE" 
											 "EXTRACT(MONTH FROM TO_TIMESTAMP(unix_start)) = " + i;
    String fileName = getCDRFileName(i);
    LinkedList<String> sqlRows = getSQLList(st, queryText);
    LinkedList<String> cdrRows = getCDRList(fileName);

    for (var sqlElem : sqlRows) {
        for (var cdrElem : cdrRows) {
            if (sqlElem.equals(cdrElem)) {
                cdrRows.remove(cdrElem);
                break;
            }
        }
    }
    if (!cdrRows.isEmpty()) {
        fail();
    }
}
```

–î–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è CDR —Ñ–∞–π–ª–æ–≤. –¢–µ—Å—Ç –∏–º–µ–µ—Ç 2 –º–µ—Ç–æ–¥–∞ `**getSQLList`** –∏ `**getCDRList`** , –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–æ —Å–≤–æ–µ–º—É —Å–≤—è–∑–Ω–æ–º—É —Å–ø–∏—Å–∫—É, –ø–µ—Ä–≤—ã–π –º–µ—Ç–æ–¥ - —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ë–î, –≤—Ç–æ—Ä–æ–π - —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ CDR —Ñ–∞–π–ª–∞. 

–ê–ª–≥–æ—Ä–∏—Ç–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: –±–µ—Ä—ë—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ `**sqlElem**` –∏ –∏—â–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ `**cdrElem`** , –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, —Ç–æ –æ–Ω —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ —Å–ø–∏—Å–∫–∞. –ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–ø–∏—Å–æ–∫ `**cdrElem`**  –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, —Ç–æ —Ç–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–∞–ª–µ–Ω–Ω—ã–º

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ CDR. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å reader, –ø–æ—Å–ª–µ —á–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–µ –¥–æ –∫–æ–Ω—Ü–∞ (–ø—Ä–æ–ø—É—Å–∫ —Å—Ç—Ä–æ–∫ –∏ –ø–æ–ª–µ–π). –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–µ–±–µ!

### –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–≤–æ–Ω–∫–æ–≤ (`GenerateCallStoryTest`)

```java
String in1 = "01, 7968969935, 1000000000, 1000000001";
String in2 = "02, 7968969935, 1000000111, 1000000111";
input.add(in1);
input.add(in2);

try (Connection conn = DriverManager.getConnection(HOST, USER, PASS)) {
    generateCallStory.sqlInsertNewArchive(input, conn);

    try (Statement statement = conn.createStatement();
         ResultSet resultSet = statement.executeQuery("SELECT sim, unix_start, unix_end, incoming FROM cdr_holder ORDER BY id desc")) {
        while ((!in1B || !in2B) && resultSet.next()) {
            String row = resultSet.getString(INCOMING) + ", " + resultSet.getString(MSISDN)
                    + ", " + resultSet.getLong(UNIX_START) + ", " + resultSet.getLong(UNIX_END);
            if (row.equals(in1) && !in1B) {
                in1B = true;
            } else if (row.equals(in2) && !in2B) {
                in2B = true;
            }
        }
    }
```

–í –¥–∞–Ω–Ω–æ–º —Ç–µ—Å—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–≤–æ–Ω–∫–æ–≤ –∑–∞–Ω–æ—Å—è—Ç—Å—è –¥–≤–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞ `**generateCallStory.sqlInsertNewArchive(input, conn)`** . –ü–æ—Å–ª–µ —á–µ–≥–æ —ç—Ç–∏ –∑–∞–ø–∏—Å–∏ –∏—â—É—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ, –∏ –µ—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã —Ç–µ–º, —á—Ç–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ —Ç–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º.

–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ –∏—Ç–æ–≥–∞–º —Ç–µ—Å—Ç–∞, —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É —Å–ª—É—á–∞–π–Ω–æ —Å–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è

---

### –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UDR (`UDRReportWriterTest`)

```java
 try (Connection conn = DriverManager.getConnection(HOST, USER, PASS);
   PreparedStatement st = conn.prepareStatement("SELECT incoming, SUM(smf)\n" +
                                   "FROM (\n" +
                                   "\tSELECT *, (unix_end - unix_start) AS smf\n" +
                                   "\tFROM cdr_holder ch\n" +
                                   "\tWHERE EXTRACT(MONTH FROM TO_TIMESTAMP(unix_start)) = ? AND sim = ?\n" +
                                   ") sub\n" +
                                   "GROUP BY (incoming);")) {
  st.setInt(1, MONTH);
  st.setString(2, MSISDN);
  ResultSet resultSet = st.executeQuery();

  while (resultSet.next()) {
      String type = resultSet.getString(INCOMING);
      long amount = resultSet.getLong(SUM);

      try {
          if (!compareWithUDRData(fileName, type, amount)) {
              if (type.equals(OUT_CALL_TYPE_CODE) && amount != 0) {
                  inB = false;
                  System.out.println("Incoming total is not correct");
              } else {
                  outB = false;
                  System.out.println("Outcoming total is not correct");
              }
          }
```

–î–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ UDR —Ñ–∞–π–ª–∞.

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–µ–ª–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π SQL –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—É–º–º—É –≤—Ö–æ–¥—è—â–∏—Ö/–∏—Å—Ö–æ–¥—è—â–∏—Ö (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏) –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–±–æ–Ω–µ–Ω—Ç–∞ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü. –í —Ç–µ—Å—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–µ—Ç–∏–ø–∏—á–Ω—ã–π (–∫–∞–∫ –ø–æ –º–Ω–µ) –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ö–æ–∂–¥–µ–Ω–∏—è - –æ—Ç –æ–±—Ä–∞—Ç–Ω–æ–≥–æ. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∏ UDR –∏–¥–µ–Ω—Ç–∏—á–Ω—ã. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –ø–æ —Ö–æ–¥—É —Ç–µ—Å—Ç–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫, —Ç–æ —Ç–µ—Å—Ç—å –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è.

–ú–µ—Ö–∞–Ω–∏–∑–º —Å–¥–µ–ª–∞–Ω –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –∞–±–æ–Ω–µ–Ω—Ç –º–æ–≥, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∏–∫–æ–º—É –Ω–µ –∑–≤–æ–Ω–∏—Ç—å, –∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–≤–æ–Ω–∫–∏, –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–µ–π –æ–± –∏—Å—Ö–æ–¥—è—â–∏—Ö. –ù–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –∑–∞–ø–∏—Å–∏ UDR –Ω–∞ —ç—Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ, –Ω–∞ –º–µ—Å—Ç–µ –≤—Ö–æ–¥—è—â–∏—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ. –ò —ç—Ç–æ —á—Ç–æ-—Ç–æ - **`00:00:00`.** –ò–º–µ–Ω–Ω–æ —Å —Ü–µ–ª—å—é –∏–∑–±–µ–≥–∞–Ω–∏—è –ª–æ–∂–Ω–æ–≥–æ –Ω–µ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å—Ö–æ–¥ —Ç–µ—Å—Ç–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∏—Å—Ç–∏–Ω–µ–Ω. 

---

---
